<th:block xmlns:th="http://www.thymeleaf.org">
    <div class="container">
        <div class="row">
            <div class="col-md-5">
                <form action="/products/add" method="POST">
                    <input id="id" type="hidden" name="id" th:value="(${product} != null ? ${product.getId()} : '')">
                    <div class="form-group">
                        <label for="name">Product Name</label>

                        <input type="text" class="form-control" id="name" name="name"
                               th:value="(${product != null}) ? ${product.getName()} : ''"
                               required
                               placeholder="Enter a product name">
                    </div>

                    <div class="form-group">
                        <label for="price">Product Price</label>

                        <input type="text" class="form-control" id="price" name="price"
                               th:value="(${product != null}) ? ${product.getPrice()} : ''"
                               required
                               placeholder="Enter a product price">
                    </div>

                    <div class="form-group">
                        <label for="quantity">Product Quantity</label>

                        <input type="text" class="form-control" id="quantity" name="quantity"
                               th:value="(${product != null}) ? ${product.getQuantity()} : ''"
                               required
                               placeholder="Enter a product quantity">
                    </div>

                    <div class="form-group">
                        <label for="categoryId">Product Category</label>

                        <select id="categoryId" name="categoryId" class="form-control">
                            <option th:if="${product} != null"
                                    th:selected="${product.getCategory() != null && product.getCategory().getId() == cat.getId()}"
                                    th:each="cat : ${categories}"
                                    th:text="${cat.getName()}"
                                    th:value="${cat.getId()}">
                            </option>

                            <option th:if="${product} == null"
                                    th:each="cat : ${categories}"
                                    th:text="${cat.getName()}"
                                    th:value="${cat.getId()}">
                            </option>
                        </select>

                    </div>

                    <div class="form-group">
                        <label for="manufacturerId">Product Manufacturer</label>

                        <select id="manufacturerId" name="manufacturerId" class="form-control">
                            <option th:if="${product} != null"
                                    th:selected="${product.getManufacturer() != null && product.getManufacturer().getId() == man.getId()}"
                                    th:each="man : ${manufacturers}"
                                    th:text="${man.getName()}"
                                    th:value="${man.getId()}">
                            </option>

                            <option th:if="${product} == null"
                                    th:each="man : ${manufacturers}"
                                    th:text="${man.getName()}"
                                    th:value="${man.getId()}">
                            </option>
                        </select>

                    </div>

                    <button id="submit" type="submit" class="btn btn-primary">Submit</button>
                    <a type="button" class="btn btn-primary" href="/products">Back</a>
                </form>
            </div>
        </div>
    </div>
</th:block>